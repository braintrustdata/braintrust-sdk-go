---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 23
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: '{"name":"go-sdk-tests"}'
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.braintrust.dev/v1/project
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","org_id":"5ba6d482-b475-4c66-8cd2-5815694764e3","name":"go-sdk-tests","created":"2025-11-04T13:38:56.532Z","deleted_at":null,"user_id":"855483c6-68f0-4df4-a147-df9b4ea32e0c","settings":null}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Wed, 12 Nov 2025 14:55:10 GMT
            Etag:
                - W/"eb-poL8yUftdUFahhL/Peyi6gN8N/E"
            Vary:
                - Origin, Accept-Encoding
            Via:
                - 1.1 d8e93128b8c3fa45992684bc1f50eeb8.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73oWFJpIAMEI1w=
            X-Amz-Cf-Id:
                - HLPkpoQGpoSChVmEUiS2rqqJv0kM_t9RnY9a0-YA9VQJKkQf_eo8Yw==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 140a2afb-2c7b-48ea-9aae-519ef3ff44cb
            X-Amzn-Trace-Id:
                - Root=1-69149fce-52197b383f0863672f75f982;Parent=767fda7d8e0bd2a7;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Found-Existing:
                - "true"
            X-Bt-Internal-Trace-Id:
                - 69149fce000000002e907516cc72bb10
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 182.2205ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers: {}
        url: https://api.braintrust.dev/api/apikey/login
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"org_info":[{"id":"5ba6d482-b475-4c66-8cd2-5815694764e3","name":"matt-test-org","api_url":"https://api.braintrust.dev","git_metadata":null,"is_universal_api":null,"proxy_url":"https://api.braintrust.dev","realtime_url":"wss://realtime.braintrustapi.com"}]}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Wed, 12 Nov 2025 14:55:10 GMT
            Etag:
                - W/"101-EqXzt+vlRFUt5HCzQY7qxp9rZU0"
            Vary:
                - Origin, Accept-Encoding
            Via:
                - 1.1 57a5349e40888d521545fc9b83f270a4.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73oWEbVIAMEaPA=
            X-Amz-Cf-Id:
                - u-7yiuyh_uH4UkRTKOWvA7Hfmb6ydtXFIo79i97irkYvZUptdJ6JiA==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 7128c6da-2a58-46e0-8be3-2f74a38a801d
            X-Amzn-Trace-Id:
                - Root=1-69149fce-65822aae66d724f06d15eec1;Parent=66305650a86dc158;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Internal-Trace-Id:
                - 69149fce0000000057f9a58d4b331a03
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 198.910041ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 125
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: '{"project_id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","name":"test-dataset","description":"Test dataset for eval integration"}'
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.braintrust.dev/v1/dataset
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":"f7b36204-e4d1-43f3-bc77-169bec19595e","project_id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","name":"test-dataset","description":"Test dataset for integration tests","created":"2025-11-12T02:58:27.281Z","deleted_at":null,"user_id":"855483c6-68f0-4df4-a147-df9b4ea32e0c","metadata":null}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Wed, 12 Nov 2025 14:55:10 GMT
            Etag:
                - W/"122-4b2Wf1G4Lvh74XhXCfxa5bBccLs"
            Vary:
                - Origin, Accept-Encoding
            Via:
                - 1.1 52143757d25f4b31ebf04bc09765f6c0.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73oXHK-oAMETAg=
            X-Amz-Cf-Id:
                - ePxoyjrs2QtHvxsmRoCqCkfITGnO23kzfrdsFTwPS6Eb0UjmvLv9Hg==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 93f4a0a6-b422-4beb-8124-681827b3755b
            X-Amzn-Trace-Id:
                - Root=1-69149fce-6df1994b7d2ca703788789cb;Parent=1640fc514b3846d2;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Found-Existing:
                - "true"
            X-Bt-Internal-Trace-Id:
                - 69149fce0000000001dea0a49d029723
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 156.191ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 63
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: '{"events":[{"input":2,"expected":4},{"input":5,"expected":10}]}'
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.braintrust.dev/v1/dataset/f7b36204-e4d1-43f3-bc77-169bec19595e/insert
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"row_ids":["f7500da4-d253-4746-8150-bfbe05f6d8d5","5c58a73d-12bc-4792-a735-b3be147c4ae6"]}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Wed, 12 Nov 2025 14:55:11 GMT
            Etag:
                - W/"5b-JFeDgL/Wr6mGcq/XDqtMdrg9xQ8"
            Vary:
                - Origin, Accept-Encoding
            Via:
                - 1.1 6e202b767e6bdee837ba15ada7e3120e.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73oZHqroAMER5A=
            X-Amz-Cf-Id:
                - m2zG1uQ6nzU6FP4hzesZW6QYwwMXeDE4J6ZErO5RAgQwtzXnM9hqgg==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 464f8e57-760d-40e2-aaeb-24dd9982c7c3
            X-Amzn-Trace-Id:
                - Root=1-69149fce-56fff96e11c930bc4e818f00;Parent=0a23d267bc76d021;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Internal-Trace-Id:
                - 69149fce000000001b0ff945cc718f25
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 660.374167ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 23
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: '{"name":"go-sdk-tests"}'
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.braintrust.dev/v1/project
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","org_id":"5ba6d482-b475-4c66-8cd2-5815694764e3","name":"go-sdk-tests","created":"2025-11-04T13:38:56.532Z","deleted_at":null,"user_id":"855483c6-68f0-4df4-a147-df9b4ea32e0c","settings":null}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Wed, 12 Nov 2025 14:55:11 GMT
            Etag:
                - W/"eb-poL8yUftdUFahhL/Peyi6gN8N/E"
            Vary:
                - Origin, Accept-Encoding
            Via:
                - 1.1 f9aa0e4086fcbefc20f307d96a8e3b44.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73ofE0PoAMERxA=
            X-Amz-Cf-Id:
                - 1aUFAimXuu98cQjD9UAlx1nkUg12EBak9tYltfvKaC3nIBU1FDtt-Q==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 59086155-a645-4eaf-8317-7db2d1f054aa
            X-Amzn-Trace-Id:
                - Root=1-69149fcf-73c147197cfe207d6100b9a4;Parent=082dddc7ad0dc304;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Found-Existing:
                - "true"
            X-Bt-Internal-Trace-Id:
                - 69149fcf00000000546db46e08cedf19
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 126.943083ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 148
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: '{"project_id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","name":"test-experiment","dataset_id":"f7b36204-e4d1-43f3-bc77-169bec19595e","ensure_new":true}'
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.braintrust.dev/v1/experiment
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":"2970a234-dd0b-456e-86e2-15b2c8317e62","project_id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","name":"test-experiment-b5089afc","description":null,"created":"2025-11-12T14:55:11.848Z","repo_info":{},"commit":null,"base_exp_id":null,"deleted_at":null,"dataset_id":"f7b36204-e4d1-43f3-bc77-169bec19595e","dataset_version":null,"public":false,"user_id":"855483c6-68f0-4df4-a147-df9b4ea32e0c","metadata":null,"tags":null}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Wed, 12 Nov 2025 14:55:11 GMT
            Etag:
                - W/"1a4-2nG8C1QlfFaJX2uB2oNY77gNbHo"
            Vary:
                - Origin, Accept-Encoding
            Via:
                - 1.1 c4d0da6268789cfda9bb5da1f3f8fc58.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73ohFtBoAMEB7w=
            X-Amz-Cf-Id:
                - AwWYH8XMhekt24xMZhE1iik2d92UXgAdd-4BhFWvj_h7RGt_usnwOA==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 67cbea16-2207-44e1-bfa7-e6961caaa37c
            X-Amzn-Trace-Id:
                - Root=1-69149fcf-0ba121e9460a1838109c0b4e;Parent=55c6bb42dcf56ae6;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Internal-Trace-Id:
                - 69149fcf000000006298aa7e97544544
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 181.570625ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 13
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: '{"limit":100}'
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.braintrust.dev/v1/dataset/f7b36204-e4d1-43f3-bc77-169bec19595e/fetch
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"events":[{"_pagination_key":"p07571852588661276673","_xact_id":"1000196129554423495","created":"2025-11-12T14:55:10.950Z","dataset_id":"f7b36204-e4d1-43f3-bc77-169bec19595e","expected":10,"id":"5c58a73d-12bc-4792-a735-b3be147c4ae6","input":5,"is_root":true,"metadata":null,"origin":null,"project_id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","root_span_id":"cda31a1c-2e27-4feb-9518-a1f66fa5cdc8","span_id":"cda31a1c-2e27-4feb-9518-a1f66fa5cdc8","tags":null},{"_pagination_key":"p07571852588661276672","_xact_id":"1000196129554423495","created":"2025-11-12T14:55:10.950Z","dataset_id":"f7b36204-e4d1-43f3-bc77-169bec19595e","expected":4,"id":"f7500da4-d253-4746-8150-bfbe05f6d8d5","input":2,"is_root":true,"metadata":null,"origin":null,"project_id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","root_span_id":"e8cbf3d8-efe1-4117-a757-5a9900bfb56a","span_id":"e8cbf3d8-efe1-4117-a757-5a9900bfb56a","tags":null}],"cursor":"aRSfz97HAAA"}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json
            Date:
                - Wed, 12 Nov 2025 14:55:12 GMT
            Vary:
                - Origin
            Via:
                - 1.1 c4d0da6268789cfda9bb5da1f3f8fc58.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73ojEyTIAMENPA=
            X-Amz-Cf-Id:
                - 3PS-Wa3GAzdwbFm2rS4mRdo2LGGqbLQllXmsk6ROZuWYMfUwLThaAw==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - d7f36efb-bd5f-418e-8d85-3d98e1880412
            X-Amzn-Trace-Id:
                - Root=1-69149fcf-78c209b55a0421c745ebdb7f;Parent=0b29538569a0627e;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Cursor:
                - aRSfz97HAAA
            X-Bt-Internal-Trace-Id:
                - 69149fcf0000000047fb3b582586816f
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 139.393416ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 36
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: '{"cursor":"aRSfz97HAAA","limit":100}'
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.braintrust.dev/v1/dataset/f7b36204-e4d1-43f3-bc77-169bec19595e/fetch
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"events":[]}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json
            Date:
                - Wed, 12 Nov 2025 14:55:12 GMT
            Vary:
                - Origin
            Via:
                - 1.1 c4d0da6268789cfda9bb5da1f3f8fc58.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73okGvwIAMEuwg=
            X-Amz-Cf-Id:
                - WR1WVtmZoPu7qhjtl9vCBa2N78oJdzwS4LZ5DcjvdLq9MF9-7tYshw==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 847b98d4-3d57-4fd5-8ccf-0cee6a160f4c
            X-Amzn-Trace-Id:
                - Root=1-69149fd0-5c212ce438465d83164dfb0f;Parent=1b0ad3885a35449d;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Internal-Trace-Id:
                - 69149fd000000000268fc4f9ec80df2c
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 101.922125ms
    - id: 8
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.braintrust.dev
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers: {}
        url: https://api.braintrust.dev/v1/dataset/f7b36204-e4d1-43f3-bc77-169bec19595e
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":"f7b36204-e4d1-43f3-bc77-169bec19595e","project_id":"842c2063-b9c7-4c40-9fb9-fa95f810c57f","name":"test-dataset","description":"Test dataset for integration tests","created":"2025-11-12T02:58:27.281Z","deleted_at":"2025-11-12T14:55:12.302Z","user_id":"855483c6-68f0-4df4-a147-df9b4ea32e0c","metadata":null}'
        headers:
            Access-Control-Allow-Credentials:
                - "true"
            Access-Control-Expose-Headers:
                - x-bt-cursor,x-bt-found-existing,x-bt-query-plan
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Wed, 12 Nov 2025 14:55:12 GMT
            Etag:
                - W/"138-Ge0/qz0fntrdlUhAYvnm5vI786A"
            Vary:
                - Origin, Accept-Encoding
            Via:
                - 1.1 c4d0da6268789cfda9bb5da1f3f8fc58.cloudfront.net (CloudFront), 1.1 10a23502057a5449ee9e08eab6e9c0d4.cloudfront.net (CloudFront)
            X-Amz-Apigw-Id:
                - T73olHDAoAMEp3g=
            X-Amz-Cf-Id:
                - NShjdGVi5nxH5ZkpLFQzmi-HG9cMYP2Xuq_SlNCxD6HNoaN8BPywug==
            X-Amz-Cf-Pop:
                - JFK50-P5
                - JFK50-P2
            X-Amzn-Requestid:
                - 1dbca55f-c6b9-46ac-8e5b-fba2de0c328a
            X-Amzn-Trace-Id:
                - Root=1-69149fd0-46b28b3f4f76ae6f09d1af0f;Parent=0bac328e8f5f348b;Sampled=0;Lineage=1:24be3d11:0
            X-Bt-Internal-Trace-Id:
                - 69149fd0000000004db1925225fc0b5c
            X-Cache:
                - Miss from cloudfront
        status: 200 OK
        code: 200
        duration: 211.329209ms
